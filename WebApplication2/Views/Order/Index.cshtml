
@*@model List<WebApplication2.Entities.Orders>*@
@model IEnumerable<WebApplication2.Entities.Orders>


@Html.ActionLink("Создать", "EditOrCreateOrder", "Order")
<table class="table">
    <thead>
        <tr>
            <th scope="col">Номер заказа</th>
            <th scope="col">Пользователь</th>
            <th scope="col">Книга</th>

        </tr>
    </thead>
    <tbody>
        <tr>
            @foreach (var item in Model)
            {
            <tr>
                <th scope="row">@item.Id</th>
                <th scope="row">
                    @{
                        WebApplication2.Entities.Users user;
                        using (Model1 db = new Model1())
                        {
                            user = db.Users.Where(a => a.Id == item.UserId).FirstOrDefault();
                        }
                    }
                    @Html.DisplayFor(modelItem => user.FIO)
                </th>
                <th scope="row">@item.BookName</th>

                <td scope="row">@Html.ActionLink("Edit", "EditOrCreateOrder", "Order", new { id = @item.Id }, null)</td>
                <td scope="row">@Html.ActionLink("Delete", "Delete", "Order", new { id = @item.Id }, null)</td>
            </tr>

        }
    </table>